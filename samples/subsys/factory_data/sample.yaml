sample:
  name: Factory data sample
common:
  tags: factory_data
  depends_on: eeprom
tests:
  sample.subsys.factory_data.read_write:
    platform_allow:
      - gd32f450i_eval
      - native_sim
      - native_sim/native/64
    harness: console
    harness_config:
      type: multi_line
      regex:
        - "Above values are boring\\? Use the factory data shell to manipulate them\\!"
  sample.subsys.factory_data.read_only:
    extra_args: CONF_FILE=read_only.conf
    platform_allow:
      - native_sim
      - native_sim/native/64
    harness: console
    harness_config:
      type: multi_line
      regex:
        # Can't initialize, missing write capabilities
        - "Failed to initialize factory data: -13"
